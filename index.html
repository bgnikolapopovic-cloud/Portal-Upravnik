<!DOCTYPE html>
<html lang="sr-Latn">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Portal Upravnik</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">

<style>
:root {
  --bg-url: url("bg.png");

  --sidebar-w: min(340px, 50vw);
  --edge-w: 0px;
  --main-pad: 18px;

  --ink: #0f172a;
  --muted: rgba(15,23,42,.65);
  --glass: rgba(248,250,252,.92);
  --border: rgba(15,23,42,.14);
  --shadow: 0 18px 40px rgba(2,6,23,.10);

  --side1: rgba(10,35,56,.92);
  --side2: rgba(6,24,40,.92);

  --card-bg: rgba(241,245,249,.82);
  --card-border: 1px solid rgba(15,23,42,.18);
  --pill-bg: rgba(255,255,255,.72);
  --pill-border: 1px solid rgba(15,23,42,.14);
  --pill-radius: 999px;

  --fw-bold: 900;
  --fw-semi: 800;
  --fw-medium: 700;

  --fin-ctrl-h: 36px;
  --fin-ctrl-font: 13px;
  --fin-ctrl-pad-y: 6px;
  --fin-ctrl-pad-x: 10px;

  --hover-bg: rgba(15,23,42,.22);
  --sidebar-top-offset: 72px;
}

@media(min-width:900px){
  :root { --main-pad: 52px; }
}

/* Utility Classes */
.flex-row {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

.flex-column {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.muted-text {
  font-weight: var(--fw-medium);
  color: var(--muted);
  line-height: 1.45;
}

.hover-card,
.finCard,
.duesRow {
  transition: background .12s ease, transform .12s ease;
}

.hover-card:hover,
.finCard:hover,
.duesRow:hover {
  background: var(--hover-bg);
  transform: translateY(-1px);
}

/* Base */
* { margin:0; padding:0; box-sizing:border-box; font-family:"Inter",system-ui,Arial,sans-serif; }

body{
  min-height:100vh;
  background: var(--bg-url) center/cover no-repeat fixed;
  color: var(--ink);
  overflow-x:hidden;
}

body::before{
  content:"";
  position:fixed;
  inset:0;
  background: rgba(255,255,255,.22);
  backdrop-filter: blur(1.4px);
  filter: contrast(1.35) saturate(1.25);
  z-index:-2;
}

/* ambient blobs */
.ambient{
  position:fixed;
  inset:-20%;
  z-index:-1;
  pointer-events:none;
  background:
    radial-gradient(600px 380px at 18% 22%, rgba(59,130,246,.22), transparent 60%),
    radial-gradient(620px 420px at 82% 26%, rgba(14,165,233,.18), transparent 60%),
    radial-gradient(720px 520px at 50% 84%, rgba(15,23,42,.12), transparent 62%);
  filter: blur(2px);
}

/* TOP RIGHT */
.topRightBar{
  position:absolute;
  top:calc(10px + env(safe-area-inset-top));
  right:calc(var(--main-pad) + env(safe-area-inset-right));
  display:flex;
  align-items:center;
  gap:12px;
  z-index:95;
  pointer-events:none;
}
.topRightTitle{
  text-align:left;
  font-weight:var(--fw-bold);
  line-height:1.05;
}
.topRightTitle span{
  display:block;
  font-size:11px;
}
.topRightLogo{
  padding:6px;
  background:rgba(255,255,255,.72);
  border:var(--border);
  border-radius:22px;
  box-shadow:var(--shadow);
}
.topRightLogo img{
  height:34px;
  width:auto;
  display:block;
  border-radius:16px;
}
@media(min-width:900px){
  .topRightTitle span{font-size:13px;}
  .topRightLogo img{height:55px;}
}

/* SCREENS */
.loginWrap{
  min-height:100vh;
  display:grid;
  place-items:center;
  padding:24px var(--main-pad);
}

.loginCard{
  width:min(560px, 100%);
  border-radius:30px;
  background:var(--card-bg);
  border:var(--card-border);
  box-shadow:var(--shadow);
  padding:22px;
  position:relative;
  overflow:hidden;
}
.loginCard::before{
  content:"";
  position:absolute;
  inset:-2px;
  background:
    radial-gradient(520px 320px at 22% 18%, rgba(59,130,246,.14), transparent 60%),
    radial-gradient(520px 320px at 86% 18%, rgba(14,165,233,.10), transparent 60%);
  pointer-events:none;
}
.loginInner{position:relative; z-index:1;}

.loginHead{
  padding-bottom:12px;
  border-bottom:1px solid rgba(15,23,42,.10);
}
.formTitle{
  margin:0;
  font-weight:var(--fw-bold);
  font-size:26px;
  letter-spacing:.02em;
}
.formSub{
  margin-top:12px;
  color:var(--muted);
  font-weight:var(--fw-medium);
  font-size:13px;
  line-height:1.4;
}

.field{ margin-top:12px; }
.field label{
  display:block;
  font-size:12px;
  font-weight:var(--fw-bold);
  letter-spacing:.12em;
  text-transform:uppercase;
  opacity:.7;
  margin-bottom:6px;
}
.inputWrap{ position:relative; }
.field input, .field select, .field textarea{
  width:100%;
  border-radius:18px;
  border:var(--border);
  background:rgba(255,255,255,.94);
  padding:14px 14px;
  font-size:15px;
  outline:none;
  transition:.15s;
}
.field textarea{min-height:86px; resize:vertical;}
.field input:focus, .field select:focus, .field textarea:focus{
  border-color:rgba(15,23,42,.28);
  box-shadow:0 0 0 5px rgba(15,23,42,.06);
}

.eyeBtn{
  position:absolute;
  right:10px;
  top:50%;
  transform:translateY(-50%);
  border:none;
  background:rgba(15,23,42,.06);
  border:var(--border);
  border-radius:14px;
  padding:8px 10px;
  cursor:pointer;
  font-weight:var(--fw-bold);
  user-select:none;
}

.row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-top:12px;
  flex-wrap:wrap;
}
.check{
  display:flex;
  align-items:center;
  gap:10px;
  font-weight:var(--fw-bold);
  color:rgba(15,23,42,.75);
  font-size:13px;
}
.check input{width:18px;height:18px}

.btnRow{ display:flex; gap:10px; margin-top:14px; }
.btn{
  flex:1;
  border:none;
  cursor:pointer;
  border-radius:18px;
  padding:14px 16px;
  font-weight:var(--fw-bold);
  letter-spacing:.02em;
  transition:.15s;
}
.btnPrimary{
  background:rgba(15,23,42,.92);
  color:white;
  box-shadow:0 18px 36px rgba(2,6,23,.18);
}
.btnPrimary:hover{ transform:translateY(-1px); }
.btnGhost{
  background:rgba(255,255,255,.72);
  border:var(--border);
  box-shadow:var(--shadow);
  color:rgba(15,23,42,.92);
}
.error{
  margin-top:10px;
  font-weight:var(--fw-bold);
  color:#9f1239;
  display:none;
}
.miniHint{
  margin-top:10px;
  font-weight:var(--fw-bold);
  color:rgba(15,23,42,.62);
  font-size:12px;
  line-height:1.4;
}

/* overlay + hover zona (PORTAL) */
.overlay{
  position:fixed; inset:0;
  background:rgba(2,6,23,.25);
  opacity:0; pointer-events:none;
  transition:.2s;
  z-index:40;
}
.overlay.show{opacity:1;pointer-events:auto}
.edgeHotspot{
  position:fixed; left:0; top:0;
  width:var(--edge-w); height:100vh;
  z-index:60;
}

/* SIDEBAR */
.sidebar{
  position:fixed; left:0; top:0;
  width:var(--sidebar-w); height:100vh;
  padding:16px 20px;
  background:linear-gradient(180deg,var(--side1),var(--side2)),var(--bg-url);
  background-size:cover;
  color:#fff;
  box-shadow:18px 0 40px rgba(0,0,0,.28);
  transform:translateX(-100%);
  transition:.2s;
  z-index:70;
}
.sidebar.open{transform:translateX(0)}
body:not(.sidebar-open) .sidebar{ filter: brightness(1.20); }
body.sidebar-open .sidebar{ filter:none; }
.sidebar::before{
  content:"";
  position:absolute; inset:0;
  background:rgba(0,0,0,.22);
  backdrop-filter:blur(8px);
}
.sidebar>*{position:relative;z-index:1}

.brand{height:92px}
.brand h1{font-size:24px;font-weight:var(--fw-bold);letter-spacing:.16em}
.brand p{font-size:13px;opacity:.78;margin-top:8px}

.nav{margin-top:26px;display:flex;flex-direction:column;gap:12px}
.nav a{
  padding:16px 18px;
  border-radius:18px;
  color:#fff;
  text-decoration:none;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.14);
  font-size:19px;
  font-weight:var(--fw-medium);
  display:block;
}
.nav a.active{background:rgba(255,255,255,.14)}

/* PREMIUM STATISTIKA BUTTON */
.nav a[data-page="statistika"]{
  position: relative;
  overflow: hidden;
  background: linear-gradient(135deg, rgba(59,130,246,.35), rgba(14,165,233,.22));
  border: 1px solid rgba(147,197,253,.65);
  box-shadow: 0 18px 40px rgba(37,99,235,.22), 0 6px 14px rgba(2,6,23,.22);
  font-weight: var(--fw-bold);
  letter-spacing: .02em;
}

.nav a[data-page="statistika"]::before{
  content:"";
  position:absolute;
  inset:-2px;
  background: radial-gradient(260px 120px at 15% 25%, rgba(255,255,255,.22), transparent 60%);
  pointer-events:none;
}

.nav a[data-page="statistika"]::after{
  content:"";
  position:absolute;
  left:10px;
  top:50%;
  transform:translateY(-50%);
  width:6px;
  height:60%;
  border-radius:var(--pill-radius);
  background: linear-gradient(180deg, rgba(191,219,254,.95), rgba(59,130,246,.95));
  box-shadow: 0 0 18px rgba(59,130,246,.45);
  pointer-events:none;
}

.nav a[data-page="statistika"]:hover{
  transform: translateY(-1px);
  background: linear-gradient(135deg, rgba(59,130,246,.45), rgba(14,165,233,.30));
  box-shadow: 0 22px 50px rgba(37,99,235,.30), 0 8px 16px rgba(2,6,23,.25);
}

.nav a[data-page="statistika"].active{
  background: linear-gradient(135deg, rgba(59,130,246,.72), rgba(14,165,233,.55));
  border-color: rgba(191,219,254,.95);
  box-shadow: 0 26px 60px rgba(37,99,235,.36), 0 10px 20px rgba(2,6,23,.28);
}

/* hamburger */
.hamburger{
  position:fixed;
  left:18px; top:18px;
  width:56px; height:56px;
  border-radius:17px;
  background:var(--glass);
  border:var(--border);
  box-shadow:var(--shadow);
  display:grid; place-items:center;
  cursor:pointer;
  z-index:80;
  user-select:none;
}

/* MAIN */
.main{ padding:0 var(--main-pad) 22px; }
.contentWrap{ padding-top:var(--sidebar-top-offset); }
@media(min-width:900px){
  .contentWrap{padding-top:calc(120px + 14px);}
}
.pageHeader{
  display:flex;
  justify-content:space-between;
  gap:14px;
  margin-bottom:18px;
}
.leftInfo{max-width:52vw}
.meta{
  font-size:18px;
  color:var(--muted);
  font-weight:var(--fw-medium);
  line-height:1.28;
}
.rightCol{
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  gap:10px;
}

.searchInline,
.balanceCard{
  width:clamp(180px,42vw,300px);
  border-radius:18px;
  background:var(--card-bg);
  border:var(--card-border);
  box-shadow:var(--shadow);
}

.searchInline{ padding:10px 14px; }
.searchInline input{
  border:none;
  background:transparent;
  width:100%;
  outline:none;
  font-size:14px;
}

/* stanje */
.balanceCard{
  padding:12px;
  text-align:right;
}
.balanceCard .label{
  font-size:12px;
  font-weight:var(--fw-medium);
  display:block;
  margin-bottom:6px;
}
.balanceAmount{ white-space:nowrap; }
.balanceAmount .value{
  font-size:20px;
  font-weight:var(--fw-bold);
  letter-spacing:0.2px;
}
.balanceAmount .currency{
  font-size:11px;
  font-weight:var(--fw-medium);
  opacity:.55;
  margin-left:4px;
}

@media(min-width:900px){
  .meta{font-size:26px;}
  .balanceAmount .value{font-size:25px;}
  .balanceAmount .currency{font-size:13px;}
  .balanceCard{padding:10px;}
}
@media (max-width: 520px){
  .balanceCard{ overflow:hidden; }
  .balanceAmount{ white-space: normal; }
  .balanceAmount .value{ font-size: 18px; }
}

/* cards */
.card{
  background:var(--card-bg);
  border:var(--card-border);
  border-radius:26px;
  padding:22px;
  box-shadow:var(--shadow);
}
.card h3{
  text-transform:uppercase;
  letter-spacing:.16em;
  font-size:22px;
  font-weight:var(--fw-bold);
}
@media(min-width:900px){
  .card{padding:28px;}
  .card h3{font-size:26px;}
}

.boardList{
  margin-top:14px;
  list-style:none;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.boardList li{
  background:rgba(15,23,42,.06);
  border:var(--border);
  padding:12px 14px;
  border-radius:16px;
  font-weight:var(--fw-medium);
}

.smallText{
  margin-top:10px;
  font-weight:var(--fw-medium);
  color:var(--muted);
  line-height:1.45;
}

/* pills */
.topMini{
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
  justify-content:flex-end;
}
.pill{
  border-radius:var(--pill-radius);
  padding:6px 10px;
  background:var(--pill-bg);
  border:var(--pill-border);
  box-shadow:var(--shadow);
  font-weight:var(--fw-bold);
  font-size:13px;
  user-select:none;
}
.pillBtn{ cursor:pointer; }

/* pages switch */
.page{ display:none; }
.page.active{ display:block; }

/* badge */
.badge{
  display:inline-block;
  padding:6px 10px;
  border-radius:var(--pill-radius);
  font-weight:var(--fw-bold);
  font-size:12px;
  border:var(--pill-border);
  background:var(--pill-bg);
  box-shadow:var(--shadow);
}

/* simple row */
.fRow{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  align-items:flex-start;
}
.fRow .grow{flex:1; min-width:220px;}
.fRow .half{flex:1; min-width:220px;}

/* files list */
.fileList{
  margin-top:10px;
  list-style:none;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.fileList li{
  background:rgba(15,23,42,.06);
  border:var(--border);
  padding:10px 12px;
  border-radius:14px;
  font-weight:var(--fw-bold);
  display:flex;
  justify-content:space-between;
  gap:10px;
}
.fileList small{opacity:.7; font-weight:var(--fw-bold);}

/* mode switching */
body.mode-login #portalScreen,
body.mode-login #buildingSelectScreen{display:none;}
body.mode-buildingSelect #loginScreen,
body.mode-buildingSelect #portalScreen{display:none;}
body.mode-portal #loginScreen,
body.mode-portal #buildingSelectScreen{display:none;}
body.mode-portal #portalScreen{display:block;}

/* Global search dropdown */
.searchResults{
  position:absolute;
  left:10px;
  right:10px;
  top:calc(100% + 10px);
  z-index:999;
  border-radius:18px;
  background:var(--card-bg);
  border:var(--card-border);
  box-shadow:0 18px 40px rgba(2,6,23,.12);
  overflow:hidden;
  backdrop-filter: blur(6px);
}
.searchResults .srHead{
  padding:10px 12px;
  font-weight:var(--fw-bold);
  font-size:12px;
  letter-spacing:.12em;
  text-transform:uppercase;
  color:rgba(15,23,42,.70);
  background:rgba(15,23,42,.04);
  border-bottom:1px solid rgba(15,23,42,.10);
}
.searchResults .srItem{
  padding:10px 12px;
  cursor:pointer;
  display:flex;
  gap:10px;
  align-items:flex-start;
  border-bottom:1px solid rgba(15,23,42,.08);
}
.searchResults .srItem:last-child{ border-bottom:none; }
.searchResults .srItem:hover{ background:rgba(15,23,42,.05); }
.searchResults .srTag{
  flex:0 0 auto;
  font-weight:var(--fw-bold);
  font-size:11px;
  padding:6px 10px;
  border-radius:var(--pill-radius);
  border:var(--pill-border);
  background:var(--pill-bg);
  color:rgba(15,23,42,.85);
  white-space:nowrap;
}
.searchResults .srText{
  flex:1;
  font-weight:var(--fw-bold);
  color:rgba(15,23,42,.88);
  line-height:1.25;
  font-size:13px;
}
.searchResults .srSub{
  margin-top:4px;
  font-weight:var(--fw-medium);
  color:rgba(15,23,42,.60);
  font-size:12px;
}

.searchHitFlash{
  outline:3px solid rgba(59,130,246,.55);
  box-shadow:0 0 0 6px rgba(59,130,246,.14);
  transition:.2s;
  animation: srFlash .9s ease-in-out 1;
}
@keyframes srFlash{
  0%{ transform:scale(1); }
  50%{ transform:scale(1.01); }
  100%{ transform:scale(1); }
}
body.sidebar-open .hamburger{
  opacity: 0;
  pointer-events: none;
}

/* building select list */
.pickList{
  margin-top:14px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.pickBtn{
  width:100%;
  text-align:left;
  border:none;
  cursor:pointer;
  border-radius:18px;
  padding:14px 14px;
  background:var(--card-bg);
  border:var(--card-border);
  box-shadow:var(--shadow);
}
.pickBtn .t{font-weight:var(--fw-bold);}
.pickBtn .s{margin-top:4px; font-weight:var(--fw-bold); color:var(--muted); font-size:12px; line-height:1.3;}

/* FINANSIJE: PDF fajlovi plavo */
#financeList .fileList li,
#financeList .fileList li span,
#financeList .fileList li small,
.fileList li,
.fileList li span,
.fileList li small{
  color:#1d4ed8 !important;
  font-weight:var(--fw-bold);
}

/* Dodaj dugmad ‚Äì isti outline stil */
#addFinanceBtn,
#addBoardBtn{
  background: transparent;
  color: #2563eb;
  border: 1px solid #2563eb;
}

#addFinanceBtn:hover,
#addBoardBtn:hover{
  background: #2563eb;
  color: #fff;
}

/* Poƒçetna: "NOVO" badge */
#page-home .boardList li{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}

.unreadBadge{
  flex:0 0 auto;
  padding:6px 10px;
  border-radius:var(--pill-radius);
  font-weight:var(--fw-bold);
  font-size:12px;
  letter-spacing:.06em;
  background: rgba(59,130,246,.16);
  border: 1px solid rgba(59,130,246,.45);
  color:#1d4ed8;
}

/* Finansijski statusi */
.status-dug,
.dug {
  color: #dc2626;
  background: rgba(220,38,38,.12);
  border: 1px solid rgba(220,38,38,.35);
}

.status-obaveza,
.obaveza {
  color: #ca8a04;
  background: rgba(250,204,21,.18);
  border: 1px solid rgba(202,138,4,.35);
}

.status-uplaceno,
.uplaceno,
.pretplata {
  color: #16a34a;
  background: rgba(22,163,74,.15);
  border: 1px solid rgba(22,163,74,.35);
}

.status-dug,
.status-obaveza,
.status-uplaceno {
  padding: 4px 10px;
  border-radius: var(--pill-radius);
  font-weight: var(--fw-medium);
  font-size: 12px;
  display: inline-block;
}

/* Finansije kontrole */
:root{
  --fin-ctrl-h: 36px;
  --fin-ctrl-font: 13px;
  --fin-ctrl-pad-y: 6px;
  --fin-ctrl-pad-x: 10px;
}

#finFilterType,
#finFilterCategory,
#finSortBy,
#finLocalSearch{
  height: var(--fin-ctrl-h);
  font-size: var(--fin-ctrl-font);
  padding: var(--fin-ctrl-pad-y) var(--fin-ctrl-pad-x);
  border-radius: 12px;
  background: rgba(248,250,252,.88);
  border: var(--border);
}

#finFilterType:focus,
#finFilterCategory:focus,
#finSortBy:focus,
#finLocalSearch:focus{
  outline: none;
  box-shadow: 0 0 0 3px rgba(59,130,246,.18);
}

/* FINANSIJE: naslov + stanar badge */
.finTitleRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}

#finTenantBadge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 12px;
  border-radius:var(--pill-radius);
  font-weight:var(--fw-bold);
  font-size:12px;
  white-space:nowrap;
}

/* FINANSIJE: SMANJI NAZIV PDF-a */
#financeList .fileList li{
  padding: 6px 10px !important;
  border-radius: 12px !important;
  font-size: 12px !important;
  line-height: 1.2 !important;
}

#financeList .fileList li span{
  font-size: 12px !important;
  font-weight: var(--fw-bold) !important;
}

#financeList .fileList li small{
  font-size: 10px !important;
  font-weight: var(--fw-bold) !important;
  opacity: .7 !important;
}

/* OGLASNA ‚Äì smanji naziv PDF fajla */
#boardList li span{
  font-size: 12px !important;
  font-weight: var(--fw-medium) !important;
}

#boardList li small{
  font-size: 10px !important;
  opacity: .7 !important;
}

#boardList li{
  padding: 6px 8px !important;
  line-height: 1.2 !important;
}

/* FIN stavka: naslov + akcije */
.finRowTop{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}

.finRowTitle{
  flex:1;
  min-width:0;
}

.finRowActions{
  display:flex;
  gap:10px;
  align-items:center;
  white-space:nowrap;
}

.finRowActions .btn{
  padding:8px 14px;
  border-radius:var(--pill-radius);
}

.finActBtn{
  padding:8px 12px;
  border-radius:12px;
  border:var(--border);
  background:rgba(248,250,252,.92);
  color:#0f172a;
  font-weight:var(--fw-bold);
  letter-spacing:.2px;
  cursor:pointer;
  transition:transform .08s ease, background .12s ease;
  line-height:1;
}

.finActBtn:hover{ transform:translateY(-1px); }
.finActBtn:active{ transform:translateY(0px); }

.finActBtn.danger{
  border-color: rgba(239,68,68,.35);
  color:#b91c1c;
}

@media (max-width: 640px){
  .finRowTop{ flex-direction:column; align-items:stretch; }
  .finRowActions{ justify-content:flex-end; }
}

.finCard .row,
.finCard .finRow,
.finCard .itemRow{
  align-items: center;
  gap: 10px;
}

.finCard .fileRow,
.finCard .docRow{
  background: rgba(255,255,255,.35);
  border: 1px solid rgba(15,23,42,.12);
  border-radius: 14px;
  padding: 8px 10px;
}

/* Poƒçetno stanje ‚Äì labela manja */
.openingBalanceLabel{
  font-size: 0.65em;
  opacity: .65;
  letter-spacing: .02em;
  margin-bottom: 2px;
}

#openingBalanceView,
#openingBalanceViewAdmin{
  gap: 6px !important;
  align-items: baseline;
}

#openingBalanceValue,
#openingBalanceValueAdmin{
  font-size: 1.25em;
  padding: 4px 10px;
}

/* Saƒçuvaj dugme manje */
#saveOpeningBalanceBtn,
#saveOpeningBalanceBtnAdmin{
  transform: scale(0.9);
  transform-origin: left center;
  margin-left: -2px;
}

[data-role="upravnik"] .fRow .grow,
[data-role="admin"] .fRow .grow{
  gap: 6px;
}

.finDesc{
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  max-width: 100%;
}

.userBadge{
  font-weight: var(--fw-bold);
  font-size: 14px;
  letter-spacing: .6px;
  color: #1e40af;
  line-height: 1;
}

#fDate{
  width: 100%;
  min-width: 0;
  max-width: 100%;
  box-sizing: border-box;
}

.lockIcon{
  font-size:16px;
  line-height:1;
  opacity:.7;
  user-select:none;
}

.lockIcon.locked::before{ content:"üîí"; }
.lockIcon.unlocked::before{ content:"üîì"; }

/* Confirm modal */
.cModal{
  position:fixed;
  inset:0;
  z-index:2000;
}

.cModalOverlay{
  position:absolute;
  inset:0;
  background: rgba(2,6,23,.45);
  backdrop-filter: blur(6px);
}

.cModalCard{
  position: absolute;
  left:50%;
  top:50%;
  transform: translate(-50%,-50%);
  width: min(520px, calc(100vw - 28px));
  border-radius: 22px;
  background: var(--card-bg);
  border: var(--card-border);
  box-shadow: 0 26px 70px rgba(2,6,23,.28);
  padding: 14px;
}

.cModalHead{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding: 6px 6px 10px 6px;
  border-bottom: 1px solid rgba(15,23,42,.10);
}

.cModalTitle{
  font-weight: var(--fw-bold);
  font-size: 16px;
  letter-spacing: .02em;
}

.cModalX{
  border:none;
  background: rgba(15,23,42,.06);
  border:var(--border);
  border-radius: 12px;
  padding: 8px 10px;
  cursor:pointer;
  font-weight: var(--fw-bold);
}

.cModalBody{
  padding: 12px 6px;
}

.cModalText{
  font-weight: var(--fw-bold);
  color: rgba(15,23,42,.82);
  line-height: 1.35;
}

.cModalActions{
  display:flex;
  gap:10px;
  padding: 0 6px 6px 6px;
}

.cModalActions .btn{
  flex:1;
}

.cDanger{
  background: rgba(220,38,38,.92) !important;
  color:#fff !important;
}

.cDanger:hover{
  transform: translateY(-1px);
}

/* Finansije + Oglasna: smanji badge-ove */
#page-finansije .smallText[data-role="upravnik"] .badge,
#page-oglasna   .smallText[data-role="upravnik"] .badge{
  font-size: 11px;
  padding: 5px 9px;
  opacity: .85;
}

/* DUGOVANJA (ADMIN GRID) */
.duesToolbar{
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
  margin-top:12px;
}

.duesToolbar .field{ margin-top:0; }
.duesToolbar input, .duesToolbar select{
  height:36px;
  border-radius:12px;
  padding:6px 10px;
  border:var(--border);
  background:rgba(248,250,252,.88);
  font-weight:var(--fw-bold);
  font-size:13px;
}

.duesGrid{
  margin-top:12px;
  display:grid;
  gap:10px;
}

.duesRow{
  display:grid;
  grid-template-columns: 140px 1fr 1fr 1fr auto;
  gap:12px;
  align-items:center;
  background: rgba(15,23,42,.18);
  border:var(--border);
  box-shadow: 0 10px 26px rgba(2,6,23,.10);
  border-radius: 18px;
  padding: 12px 14px;
}

.duesRow:hover{
  background: var(--hover-bg);
  transform: translateY(-1px);
}

.duesUser{
  font-weight: var(--fw-bold);
  font-size: 16px;
  letter-spacing:.3px;
}

.duesMeta{
  font-weight:var(--fw-bold);
  color: rgba(15,23,42,.80);
  font-size: 12px;
  opacity:.85;
}

.duesBadges{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  justify-content:flex-end;
}

.duesBadge{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 10px;
  border-radius:var(--pill-radius);
  font-weight:var(--fw-bold);
  font-size:12px;
  border:var(--border);
  background: rgba(241,245,249,.75);
  white-space:nowrap;
}

.duesBadge.status-dug{ 
  color:#b91c1c; background:rgba(220,38,38,.22); border-color:rgba(220,38,38,.55);
}
.duesBadge.status-obaveza{
  color:#a16207; background:rgba(250,204,21,.28); border-color:rgba(202,138,4,.55);
}
.duesBadge.status-uplaceno{
  color:#15803d; background:rgba(22,163,74,.26); border-color:rgba(22,163,74,.55);
}

.duesActions{
  display:flex;
  justify-content:flex-end;
  gap: 10px;
}

.duesActions .btn{
  flex:unset;
  padding:10px 14px;
  border-radius:14px;
}

@media (max-width: 920px){
  .duesRow{
    grid-template-columns: 1fr; 
  }
  .duesBadges{ justify-content:flex-start; }
  .duesActions{ justify-content:flex-start; }
}

/* STATISTIKA */
.statsGrid{
  margin-top:12px;
  display:grid;
  grid-template-columns: repeat(2, minmax(220px, 1fr));
  gap:12px;
}

.statsCard{
  background: var(--card-bg);
  border: var(--card-border);
  border-radius: 18px;
  padding: 14px;
  box-shadow: 0 18px 40px rgba(2,6,23,.08);
}

.statsCard h4{
  margin:0 0 10px 0;
  font-size: 15px;
  font-weight: var(--fw-bold);
  color: rgba(15,23,42,.92);
  letter-spacing:.02em;
}

.statsRows{ display:flex; flex-direction:column; gap:8px; }

.statRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(255,255,255,.55);
  border: var(--border);
}

.statRow .k{
  color: rgba(15,23,42,.70);
  font-weight: var(--fw-medium);
  font-size: 13px;
}

.statRow .v{
  color: rgba(15,23,42,.92);
  font-weight: var(--fw-bold);
  font-size: 15px;
}

@media (max-width: 640px){
  .statsGrid{ grid-template-columns: 1fr; }
  .statsCard[style*="grid-column"]{ grid-column:auto !important; }
}

/* FINANSIJE ‚Äì KARTICE ISTE KAO DUGOVANJA */
#financeList li.finCard{
  background: rgba(15,23,42,.18) !important;
  border: var(--border) !important;
  box-shadow: 0 10px 26px rgba(2,6,23,.10) !important;
}

#financeList li.finCard:hover{
  background: var(--hover-bg) !important;
}

/* UNOSI ‚Äì ISTA NIJANSA */
#financeFormWrap .field input,
#financeFormWrap .field select,
#financeFormWrap .field textarea,
#boardFormWrap .field input,
#boardFormWrap .field select,
#boardFormWrap .field textarea,
#forumCreateWrap .field input,
#forumCreateWrap .field textarea,
#duesPayWrap .field input,
#duesPayWrap .field select,
#duesPayWrap .field textarea{
  background: rgba(248,250,252,.88);
  border: var(--border);
  color: rgba(15,23,42,.92);
  border-radius: 14px;
}

#financeFormWrap .field input:focus,
#financeFormWrap .field select:focus,
#financeFormWrap .field textarea:focus,
#boardFormWrap .field input:focus,
#boardFormWrap .field select:focus,
#boardFormWrap .field textarea:focus,
#forumCreateWrap .field input:focus,
#forumCreateWrap .field textarea:focus,
#duesPayWrap .field input:focus,
#duesPayWrap .field select:focus,
#duesPayWrap .field textarea:focus{
  outline: none;
  background: rgba(248,250,252,.94);
  border-color: rgba(15,23,42,.25);
  box-shadow: 0 0 0 4px rgba(15,23,42,.06);
}

#financeFormWrap .field input[readonly],
#financeFormWrap .field input:disabled{
  opacity: .85;
  cursor: not-allowed;
}

/* PROFI LIST ITEM UI */
.itemHead{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
}

.itemLeft{
  flex:1;
  min-width:0;
}

.itemMeta{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  align-items:center;
}
.itemMeta .pill{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 10px;
  border-radius:var(--pill-radius);
  font-weight:var(--fw-bold);
  font-size:12px;
  border:var(--border);
  background: rgba(255,255,255,.55);
  color: rgba(15,23,42,.88);
  white-space:nowrap;
}

.itemMeta .pill.type-rashod{
  color:#b91c1c;
  background: rgba(220,38,38,.12);
  border-color: rgba(220,38,38,.30);
}

.itemMeta .pill.type-prihod{
  color:#166534;
  background: rgba(22,163,74,.12);
  border-color: rgba(22,163,74,.28);
}

.itemDesc{
  margin-top:6px;
  font-weight:var(--fw-bold);
  color: rgba(15,23,42,.70);
  line-height:1.35;
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
}

.itemAmount{
  flex:0 0 auto;
  padding:8px 12px;
  border-radius:14px;
  font-weight:var(--fw-bold);
  white-space:nowrap;
  border:var(--border);
  background: rgba(255,255,255,.62);
  color: rgba(15,23,42,.92);
}

.itemAmount.rashod{
  border-color: rgba(220,38,38,.25);
}
.itemAmount.prihod{
  border-color: rgba(22,163,74,.22);
}

@media (max-width: 640px){
  .itemHead{ flex-direction:column; }
  .itemAmount{ align-self:flex-start; }
}

#regList li{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}

.lawPdfLink{
  padding:6px 12px;
  border-radius:10px;
  background:#eef2ff;
  color:#1e3a8a;
  font-weight:600;
  text-decoration:none;
}

.lawPdfLink:hover{
  background:#e0e7ff;
}

/* ADMIN UPLOAD GRID */
.uplRow{
  grid-template-columns: 260px 1fr 1fr 1fr;
}

@media (max-width: 920px){
  .uplRow{
    grid-template-columns: 1fr;
  }
}

/* ADMIN DROPDOWN */
.adminTopWrap{
  position: relative;
  display: inline-block;
  width: 100%;
}

.adminToggle{
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 12px;
  border-radius:14px;
  background: rgba(255,255,255,.65);
  border:var(--border);
  backdrop-filter: blur(10px);
  cursor:pointer;
  user-select:none;
}

#adminToggleLabel{
  font-weight:var(--fw-bold);
}

#adminActiveBuilding{
  font-weight:var(--fw-medium);
  opacity:.8;
}

.adminArrow{
  margin-left:auto;
  font-size:16px;
  padding:6px 10px;
  border-radius:12px;
  border:1px solid rgba(15,23,42,.12);
  background: rgba(255,255,255,.6);
}

.adminMenu{
  position:absolute;
  top: calc(100% + 8px);
  left: 0;
  width: min(520px, 100%);
  background: rgba(255,255,255,.92);
  border:var(--border);
  border-radius: 14px;
  box-shadow: 0 18px 40px rgba(2,6,23,.14);
  padding: 8px;
  z-index: 9999;
}

.adminMenuItem{
  width: 100%;
  display: block;
  text-align: left;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid transparent;
  background: transparent;
  cursor: pointer;
  font-weight: var(--fw-medium);
}

.adminMenuItem:hover{
  background: rgba(15,23,42,.06);
  border-color: rgba(15,23,42,.10);
}

.hidden{ display:none; }

.adminNavBtn{
  margin-left:auto;
  padding:6px 10px;
  border-radius:10px;
  border:var(--border);
  background:rgba(248,250,252,.92);
  cursor:pointer;
  font-weight:var(--fw-medium);
  font-size:12px;
}

/* FORUM ‚Äì PROCENTI GLASANJA */
.pollStats{
  font-size:13px;
  color:var(--muted);
}

.pollBar{
  display:flex;
  height:8px;
  border-radius:6px;
  overflow:hidden;
  background:rgba(15,23,42,.12);
  margin-bottom:6px;
}

.pollYes{
  background:#22c55e;
}

.pollNo{
  background:#ef4444;
}

.pollText{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  align-items:center;
}

.pollSep{
  opacity:.6;
}

/* VLASNICI STANOVA */
.unitOwnerRow{
  display:flex;
  gap:10px;
  align-items:center;
}

.unitOwnerRow .unitCode{
  min-width:90px;
  font-weight:600;
}

.unitOwnerRow input{
  flex:1;
}

/* FINANSIJE: 3 TAB dugmeta */
#page-finansije .fRow[data-role="upravnik"]{
  display:flex;
  gap:10px;
  flex-wrap:nowrap;
}

#page-finansije .fRow[data-role="upravnik"] > .btn{
  flex:1;
  text-align:center;
  white-space:nowrap;
}

@media (max-width: 760px){
  #page-finansije .fRow[data-role="upravnik"]{
    flex-wrap:wrap;
  }
  #page-finansije .fRow[data-role="upravnik"] > .btn{
    flex:1 1 220px;
  }
}

/* VLASNICI STANOVA (PRO UI) */
.ownersHead{
  display:flex;
  justify-content:space-between;
  gap:16px;
  align-items:flex-end;
  margin: 10px 0 12px;
}

.ownersTitle .hSub{
  margin-top:8px;
  opacity:.75;
  font-size:13px;
  line-height:1.35;
}

.ownersTools{
  display:flex;
  gap:14px;
  align-items:center;
  flex-wrap:wrap;
  justify-content:flex-end;
}

.ownersProgress{
  font-weight:var(--fw-bold);
  font-size:13px;
  opacity:.8;
  padding:8px 10px;
  border-radius:12px;
  border:var(--border);
  background: rgba(255,255,255,.55);
}

.ownersSearch input{
  width:min(360px, 70vw);
  height:40px;
  border-radius:14px;
}

.ownersToggle{
  display:flex;
  gap:10px;
  align-items:center;
  user-select:none;
  font-size:13px;
  opacity:.9;
}

.ownersToggle input{
  width:18px;
  height:18px;
}

.ownersList{
  display:flex;
  flex-direction:column;
  gap:10px;
  margin-top:10px;
}

.ownerRow{
  display:flex;
  gap:12px;
  align-items:center;
  padding:12px 12px;
  border-radius:16px;
  border:var(--border);
  background: rgba(255,255,255,.75);
  box-shadow: 0 10px 22px rgba(2,6,23,.06);
}

.ownerRow:hover{ background: rgba(255,255,255,.88); }

.ownerBadge{
  font-weight:var(--fw-bold);
  font-size:13px;
  padding:8px 10px;
  border-radius:12px;
  border:var(--border);
  background: rgba(15,23,42,.04);
  min-width: 108px;
  text-align:center;
}

.ownerField{ flex:1; display:flex; align-items:center; }

.ownerField input{
  width:100%;
  height:40px;
  border-radius:12px;
  border:var(--border);
  background: rgba(255,255,255,.95);
  padding: 0 12px;
}

.ownerField input:focus{
  outline:none;
  border-color: rgba(15,23,42,.35);
  box-shadow: 0 0 0 4px rgba(15,23,42,.08);
}

.ownerStatus{
  width:40px;
  height:40px;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  border:var(--border);
  background: rgba(15,23,42,.03);
  font-weight:var(--fw-bold);
  font-size:16px;
  opacity:.75;
}

.ownerStatus.saved{ opacity:1; }
.ownerStatus.dirty{ opacity:1; }

@media (max-width: 640px){
  .ownerRow{
    flex-direction:column;
    align-items:stretch;
  }
  .ownerBadge{
    min-width:unset;
    text-align:left;
  }
  .ownerStatus{
    width:100%;
  }
}

</style>
</head>

<body class="mode-login">
<div class="ambient"></div>

<!-- TOP RIGHT BRAND -->
<div class="topRightBar">
  <div class="topRightTitle">

    <!-- USER ID BADGE -->
    <div class="userBadge" id="userBadge"></div>

    <span>Portal</span>
    <span>Upravnik</span>
  </div>

  <div class="topRightLogo">
    <img src="logo.png" alt="Portal Upravnik logo">
  </div>
</div>


<!-- LOGIN SCREEN -->
<section class="loginWrap" id="loginScreen">
  <div class="loginCard">
    <div class="loginInner">

      <div class="loginHead">
        <div class="formTitle">Prijava</div>
      </div>

      <div class="formSub">
        Unesite korisniƒçko ime i lozinku sa kartice.
      </div>

      <div class="field">
        <label for="username">Korisniƒçko ime</label>
        <input id="username" type="text" placeholder="npr. PU7X9-001" autocomplete="username">
      </div>

      <div class="field">
        <label for="pass">Lozinka</label>
        <div class="inputWrap">
          <input id="pass" type="password" placeholder="Unesi lozinku" autocomplete="current-password">
          <button class="eyeBtn" id="togglePass" type="button">üëÅ</button>
        </div>
      </div>

      <div class="row">
        <label class="check">
          <input id="remember" type="checkbox" checked>
          Zapamti me
        </label>
      </div>

      <div class="btnRow">
        <button class="btn btnPrimary" id="loginBtn">Uloguj se</button>
      </div>

      <div class="error" id="loginError">Pogresno korisniƒçko ime ili lozinka.</div>

      <div class="miniHint">
        U sluƒçaju zaboravljenog naloga ili lozinke kontaktirajte upravnika.
      </div>

    </div>
  </div>
</section>

<!-- BUILDING SELECT SCREEN -->
<section class="loginWrap" id="buildingSelectScreen">
  <div class="loginCard">
    <div class="loginInner">

      <div class="loginHead">
        <div class="formTitle">Izaberi stambenu zajednicu</div>
      </div>

      <div class="formSub" id="bsSub">
        Izaberite zgradu koju zelite da otvorite.
      </div>

      <div class="pickList" id="buildingPickList"></div>

      <div class="btnRow" style="margin-top:16px;">
        <button class="btn btnGhost" id="bsLogoutBtn" type="button">Odjava</button>
      </div>

    </div>
  </div>
</section>

<!-- PORTAL SCREEN -->
<div id="portalScreen">

  <div class="edgeHotspot" id="edgeHotspot"></div>
  <div class="overlay" id="overlay"></div>
  <div class="hamburger" id="hamburger">‚ò∞</div>

  <aside class="sidebar" id="sidebar">
    

    <nav class="nav" id="nav">
      <a href="#" class="active" data-page="home">Poƒçetna</a>
      <a href="#" data-page="finansije">Finansije</a>
      <a href="#" data-page="oglasna">Oglasna tabla</a>
      <a href="#" data-page="forum">Forum</a>
      <a href="#" data-page="regulative">Zakonske regulative</a>
      <a href="#" data-page="kontakt">Kontakt slu≈æbe</a>

<!-- STATISTIKA (samo upravnik/admin) -->
<a href="#" data-page="statistika" data-role="manage">Statistika</a>

<!-- ODJAVA -->
<a href="#" id="sidebarLogout" class="logoutItem">Odjava</a>


    </nav>
  </aside>

  <main class="main">
    <div class="contentWrap">

      <section class="pageHeader">
        <div class="leftInfo">
          <div class="meta" id="buildingMeta">
            <!-- popunjava JS -->
          </div>
        </div>

        <div class="rightCol">
          <div class="topMini">
            <div class="pill" id="userPill">Korisnik</div>
            <div class="pill" id="buildingPill">Zgrada</div>
            <div class="pill pillBtn" id="switchBuildingBtn" style="display:none;">Promeni zgradu</div>
          </div>

          <div class="searchInline" style="position:relative;">
            <input id="globalSearch" placeholder="Pretraga (finansije, dokumenti, forum)">
            <div class="searchResults" id="searchResults" style="display:none;"></div>
          </div>

          <div class="balanceCard">
            <span class="label">Stanje raƒçuna</span>
            <div class="balanceAmount">
              <span class="value" id="balanceValue">0,00</span>
              <span class="currency">RSD</span>
            </div>
          </div>
        </div>
      </section>

      <section class="page active" id="page-home">
        <section class="card">
          <h3>Poƒçetna</h3>

                    <ul class="boardList" style="margin-top:12px;">
            <li id="homeLastChange">Poslednja promena: (nema)</li>
            <li id="homePinned">Istaknuto: (nema)</li>
            <li id="homeForum">Forum: (nema)</li>
          </ul>


          
          <div class="smallText" data-role="admin" style="margin-top:12px;">
            Admin: placeholder (upravljanje korisnicima, regulativama i kontaktima).
          </div>
        </section>
      </section>

      <!-- FINANSIJE -->
<section class="page" id="page-finansije">
  <section class="card">

    <div class="finTitleRow">
      <h3>Finansije</h3>

      <!-- ADMIN: Promeni zgradu (Finansije) -->
      <div id="adminFinBuildingSwitch" data-role="admin" style="display:none;"></div>

      <!-- STANAR: Moj dug/pretplata u naslovu Finansija -->
      <div class="finTenantBadge status-obaveza" data-role="stanar" id="finTenantBadge" style="display:none;">
        <span id="finTenantBadgeText">0,00 RSD</span>
      </div>
    </div>

    <!-- TABOVI -->
    <div class="fRow" data-role="upravnik" style="margin-top:12px; gap:10px;">
      <button class="btn btnPrimary" id="finTabEntries">Finansijske promene</button>
      <button class="btn btnGhost" id="finTabOwners">Vlasnici stanova</button>
      <button class="btn btnGhost" id="finTabDues">Dugovanja stanara</button>
    </div>

    <!-- TAB CONTENT -->

    <!-- FINANSIJSKE PROMENE -->
    <div id="finTabWrapEntries">
      <div id="finEntriesWrap">

        
        <!-- FIN HEADER CONTROLS -->
        <div class="fRow" style="margin-top:12px; gap:10px; align-items:flex-end;">
          <div class="half field">
            <label for="finFilterType">Tip</label>
            <select id="finFilterType">
              <option value="svi">Svi</option>
              <option value="prihod">Prihod</option>
              <option value="rashod">Rashod</option>
            </select>
          </div>

          <div class="half field">
            <label for="finFilterCategory">Kategorija</label>
            <select id="finFilterCategory">
              <option value="">Sve</option>
              <option value="hitna intervencija">Hitna intervencija</option>
              <option value="tekuƒáe odr≈æavanje">Tekuƒáe odr≈æavanje</option>
              <option value="lift">Lift</option>
              <option value="ostalo">Ostalo</option>
              <option value="drugo">Drugo</option>
            </select>
          </div>

          <div class="grow field">
            <label for="finLocalSearch">Pretraga</label>
            <input id="finLocalSearch" type="text" placeholder="npr. lift, servis, 120000...">
          </div>
        </div>

        <!-- POƒåETNO STANJE (UPRAVNIK) -->
        <div class="smallText" data-role="upravnik" style="margin-top:12px;">
          <div class="fRow">
            <div class="grow" style="display:flex; align-items:center; gap:8px; flex-wrap:wrap;">
              <span class="badge" style="font-size:11px; padding:6px 10px; opacity:.75;">Poƒçetno stanje (RSD)</span>

              <div class="field openingBalanceWrap" style="width:220px; display:flex; gap:8px;">
                <input id="openingBalanceInput" type="number" step="0.01" placeholder="npr. 948889">
                <span id="openingBalanceLock" class="lockIcon locked"></span>
              </div>

              <button class="btn btnGhost" id="editOpeningBalanceBtn" type="button">Izmeni</button>
              <button class="btn btnGhost" id="saveOpeningBalanceBtn" type="button" style="display:none;">Saƒçuvaj</button>
            </div>
          </div>
        </div>

        <!-- POƒåETNO STANJE (ADMIN) -->
        <div class="smallText" data-role="admin" style="margin-top:12px;">
          <div class="fRow">
            <div class="grow" style="display:flex; align-items:center; gap:8px; flex-wrap:wrap;">
              <span class="badge" style="font-size:11px; padding:6px 10px; opacity:.75;">Poƒçetno stanje (RSD)</span>

              <div class="field" style="margin-top:0; width:220px;">
                <input id="openingBalanceInputAdmin" type="number" step="0.01" placeholder="npr. 948889"
                       style="height:36px; border-radius:14px; padding:8px 10px;">
              </div>

              <button class="btn btnGhost" id="editOpeningBalanceBtnAdmin" type="button"
                      style="flex:unset; padding:10px 14px; border-radius:14px;">Izmeni</button>

              <button class="btn btnGhost" id="saveOpeningBalanceBtnAdmin" type="button"
                      style="flex:unset; padding:10px 14px; border-radius:14px; display:none;">Saƒçuvaj</button>
            </div>
          </div>
        </div>

        <!-- UPRAVNIK: akcije -->
        <div class="smallText" data-role="upravnik" style="margin-top:12px;">
          <div class="fRow">
            <div class="grow">
              <span class="badge">Upravnik</span>
              <span class="badge" style="margin-left:8px;">Upload limit: 10MB po unosu</span>
            </div>
            <div>
              <button class="btn btnGhost" id="addFinanceBtn" type="button">Dodaj finansijsku stavku</button>
            </div>
          </div>
        </div>

        <div id="financeFormWrap" data-role="upravnik" style="display:none; margin-top:12px;">
          <div class="fRow">
            <div class="half field">
              <label for="fDate">Datum</label>
              <input id="fDate" type="date">
            </div>

            <div class="half field">
              <label for="fType">Tip</label>
              <select id="fType">
                <option value="rashod">Rashod</option>
                <option value="prihod">Prihod</option>
              </select>
            </div>

            <div class="half field">
              <label for="fCategory">Kategorija</label>
              <select id="fCategory">
                <option value="hitna intervencija">Hitna intervencija</option>
                <option value="tekuƒáe odr≈æavanje">Tekuƒáe odr≈æavanje</option>
                <option value="lift">Lift</option>
                <option value="ostalo">Ostalo</option>
                <option value="drugo">Drugo</option>
              </select>
            </div>

            <div class="half field">
              <label for="fFirm">Firma (dropdown)</label>
              <select id="fFirm"></select>
            </div>

            <div class="grow field">
              <label for="fFirmNew">Nova firma (opciono)</label>
              <input id="fFirmNew" type="text" placeholder="Unesi novu firmu ako ne postoji u listi">
            </div>

            <div class="grow field">
              <label for="fDesc">Opis</label>
              <input id="fDesc" type="text" placeholder="npr. placanje racuna / uplata stanara">
            </div>

            <div class="grow field">
              <label for="fAmount">Iznos (RSD)</label>
              <input id="fAmount" type="number" step="0.01" placeholder="npr. 12500">
            </div>

            <div class="grow field">
              <label for="fDocs">Dokumenti (vi≈°e fajlova)</label>
              <input id="fDocs" type="file" multiple accept="application/pdf">
              <div class="smallText" style="margin-top:6px;">
                Ukupna veliƒçina fajlova po unosu max 10MB. Klik na fajl u listi = otvori PDF.
              </div>
            </div>

            <div class="grow" id="existingDocsWrap" style="display:none; margin-top:6px;">
              <div class="smallText" style="margin-top:6px;">
                Postojeƒái dokumenti (klik ‚ÄúUkloni‚Äù da izbri≈°e≈° iz stavke):
              </div>
              <ul class="fileList" id="existingDocsList"></ul>
            </div>

            <div class="grow" style="display:flex; gap:10px; margin-top:6px;">
              <button class="btn btnPrimary" id="saveFinanceBtn" type="button">Saƒçuvaj</button>
              <button class="btn btnGhost" id="cancelFinanceBtn" type="button">Otka≈æi</button>
            </div>

            <div class="error" id="financeError" style="display:none;">Gre≈°ka: proveri polja i limit fajlova (10MB).</div>
          </div>
        </div>

        <ul class="boardList" id="financeList"></ul>

      </div>
    </div>

    <!-- TAB: VLASNICI STANOVA -->
<div id="finTabWrapOwners" style="display:none;">

  <!-- POD-TABOVI unutar Vlasnika -->
  <div class="fRow" style="margin-top:12px; gap:10px;">
    <button class="btn btnPrimary" id="ownTabUnits" type="button">Dodaj stan</button>
    <button class="btn btnGhost" id="ownTabBuildings" type="button">Dodaj zgradu</button>
  </div>

  <!-- POD-TAB CONTENT -->

  <!-- POD-TAB: DODAJ STAN + VLASNICI -->
  <div id="ownWrapUnits" style="margin-top:14px;">

    <!-- ADMIN: Upravljanje stanovima -->
    <div id="adminUnitsWrap" style="display:none; margin-top:14px;">
      <div class="badge">Upravljanje stanovima</div>

      <div class="smallText" style="opacity:.7; margin-top:6px;">
        Ovde menja≈° samo vlasnika za izabrani stan.
      </div>

      <div id="adminAddUnitForm" style="margin-top:12px;">
        <div class="fRow" style="gap:10px; align-items:flex-end; flex-wrap:wrap;">
          <div class="field" style="min-width:160px;">
            <label>≈†ifra zgrade</label>
            <input id="adminUnitBCode" type="text" disabled>
          </div>

          <div class="field" style="min-width:320px; flex:1;">
            <label>Adresa</label>
            <input id="adminUnitAddr" type="text" disabled>
          </div>

          <div class="field" style="min-width:260px; flex:1;">
            <label>Ime i prezime vlasnika</label>
            <input id="adminUnitOwner" type="text">
          </div>

          <div class="field" style="min-width:180px;">
            <label>Novi ID stana</label>
            <input id="adminUnitCode" type="text">
          </div>

          <button class="btn btnPrimary" type="button" id="adminSaveUnitBtn">Saƒçuvaj</button>
          <button class="btn btnGhost" type="button" id="adminCancelUnitBtn">Odustani</button>
        </div>
      </div>

      <div id="adminUnitsList" class="list" style="margin-top:10px;"></div>
    </div>

    <!-- VLASNICI STANOVA (PRO UI) -->
    <div id="unitOwnersWrap" style="margin-top:16px;">

      <div class="ownersHead">
        <div class="ownersTitle">
          <div class="badge">Vlasnici stanova</div>
          <div class="hSub">
            Unesi ime i prezime vlasnika za svaki stan. Stanar vidi samo svoje ime i prezime.
          </div>
        </div>

        <div class="ownersTools">
          <div id="ownersProgress" class="ownersProgress">Popunjeno: 0 / 0</div>

          <label class="ownersToggle">
            <input type="checkbox" id="ownersOnlyEmpty">
            <span>Prika≈æi samo prazne</span>
          </label>

          <div class="searchInline ownersSearch">
            <input id="ownersSearchInput" placeholder="Pretraga: BM25-001 ili ime vlasnika‚Ä¶">
          </div>
        </div>
      </div>

      <div id="unitOwnersTable" class="ownersList"></div>
    </div>

  </div>

  <!-- POD-TAB: DODAJ ZGRADU -->
  <div id="ownWrapBuildings" style="display:none; margin-top:14px;">

    <!-- ADMIN: Upravljanje zgradama -->
    <div id="adminBuildingsWrap" data-role="admin" style="display:none; margin-top:14px;">
      <div class="badge">Upravljanje zgradama (samo admin)</div>

      <div class="fRow" style="margin-top:10px; gap:10px; align-items:flex-end; flex-wrap:wrap;">
        <div class="field" style="min-width:160px;">
          <label>≈†ifra zgrade (npr. BM25)</label>
          <input id="adminBCode" type="text" placeholder="BM25">
        </div>

        <div class="field" style="min-width:260px; flex:1;">
          <label>Naziv zgrade</label>
          <input id="adminBTitle" type="text" placeholder="Bore Markoviƒáa 25">
        </div>

        <div class="field" style="min-width:220px; flex:1;">
          <label>Ulica</label>
          <input id="adminBStreet" type="text" placeholder="Bore Markoviƒáa">
        </div>

        <div class="field" style="min-width:120px;">
          <label>Broj</label>
          <input id="adminBNumber" type="text" placeholder="25">
        </div>

        <div class="field" style="min-width:120px;">
          <label>Broj stanova</label>
          <input id="adminBUnits" type="number" min="1" placeholder="25">
        </div>

        <div class="field" style="min-width:240px; flex:1;">
          <label>Upravnik</label>
          <select id="bMgrSelect">
            <option value="">‚Äî Izaberi upravnika ‚Äî</option>
          </select>
        </div>

        <button class="btn btnGhost" type="button" id="addMgrBtn">+ Novi upravnik</button>

        <button class="btn btnPrimary" type="button" id="adminAddBuildingBtn">
          Dodaj zgradu
        </button>
      </div>

      <div id="newMgrWrap" style="display:none; margin-top:10px;">
        <div class="badge">Novi upravnik</div>

        <div class="fRow" style="margin-top:10px; gap:10px; align-items:flex-end; flex-wrap:wrap;">
          <div class="field" style="min-width:260px; flex:1;">
            <label>Username (UPR-001)</label>
            <input id="mgrUser" type="text" placeholder="UPR-003">
          </div>

          <div class="field" style="min-width:220px;">
            <label>Lozinka</label>
            <input id="mgrPass" type="text" placeholder="npr. 123456">
          </div>

          <div class="field" style="min-width:260px; flex:1;">
            <label>Ime i prezime (opciono)</label>
            <input id="mgrName" type="text" placeholder="npr. Marko Markoviƒá">
          </div>

          <button class="btn btnPrimary" type="button" id="createMgrBtn">Kreiraj upravnika</button>
        </div>

        <div class="smallText" style="opacity:.75; margin-top:8px;">
          Format username-a mora biti <b>UPR-001</b>, <b>UPR-002</b>...
        </div>
      </div>

      <!-- ADMIN: Export / Import / Wipe -->
      <div id="adminDataToolsWrap" data-role="admin" style="display:none; margin-top:14px;">
        <div class="badge">Backup / Restore (Admin)</div>

        <div class="fRow" style="margin-top:10px; gap:10px; align-items:flex-end; flex-wrap:wrap;">
          <button class="btn btnGhost" type="button" id="btnExportData">
            Export (preuzmi backup .json)
          </button>

          <div class="field" style="min-width:280px;">
            <label>Import backup (.json)</label>
            <input type="file" id="importFileInput" accept="application/json">
          </div>

          <button class="btn btnPrimary" type="button" id="btnImportData">
            Import (restore)
          </button>

          <button class="btn btnDanger" type="button" id="btnWipeData">
            Obri≈°i SVE podatke (wipe)
          </button>
        </div>

        <div class="smallText" style="opacity:.75; margin-top:8px;">
          Export/Import ƒçuva i vraƒáa sve podatke iz localStorage (zgrade, stanove, korisnike, finansije, forum, oglasnu...).
          Session/login se ne prenosi namerno.
        </div>
      </div>
    </div>

    <div id="adminBuildingsList" class="list" style="margin-top:10px;"></div>

  </div>

</div>

       <!-- TAB: DUGOVANJA -->
    <div id="finTabWrapDues" style="display:none;">

      <!-- DUG / PRETPLATA STANARA (samo upravnik) -->
      <div class="smallText" data-role="upravnik" style="margin-top:14px;">
        <span class="badge">Dug / pretplata stanara</span>

        <div class="fRow" style="margin-top:10px; gap:10px; align-items:flex-end;">
          <div class="half field" style="margin-top:0;">
            <label for="monthlyFeeInput">Meseƒçna obaveza (RSD)</label>
            <input id="monthlyFeeInput" type="number" min="0" step="1" value="2000">
          </div>

          <div class="half field" style="margin-top:0;">
            <label for="duesStartMonth">Poƒçetni mesec obraƒçuna</label>
            <input id="duesStartMonth" type="month">
          </div>

          <div>
            <button class="btn btnGhost" id="saveDuesSettingsBtn" type="button" style="flex:unset;">Saƒçuvaj pode≈°avanja</button>
          </div>
        </div>
      </div>

      <div class="duesToolbar">
        <div class="field" style="min-width:220px;">
          <label for="duesSearch">Pretraga stanara</label>
          <input id="duesSearch" type="text" placeholder="npr. BM25-002">
        </div>

        <div class="field" style="min-width:220px;">
          <label for="duesFilter">Filter</label>
          <select id="duesFilter">
            <option value="svi">Svi</option>
            <option value="dug">Samo dug</option>
            <option value="nula">Samo 0</option>
            <option value="pretplata">Samo pretplata</option>
          </select>
        </div>

        <div class="field" style="min-width:220px;">
          <label for="duesSort">Sortiranje</label>
          <select id="duesSort">
            <option value="user-asc">Korisnik A‚ÄìZ</option>
            <option value="saldo-asc">Najveƒái dug</option>
            <option value="saldo-desc">Najveƒáa pretplata</option>
          </select>
        </div>
      </div>

      <div class="duesGrid" id="duesGrid"></div>

      <!-- UPLATA -->
      <div id="duesPayWrap" style="display:none; margin-top:14px;">
        <div class="badge" id="duesPayTitle">Uplata</div>

        <div class="fRow" style="margin-top:10px; gap:10px; align-items:flex-end;">
          <div class="half field" style="margin-top:0;">
            <label for="duesPayDate">Datum uplate</label>
            <input id="duesPayDate" type="date">
          </div>

          <div class="half field" style="margin-top:0;">
            <label for="duesPayAmount">Iznos (RSD)</label>
            <input id="duesPayAmount" type="number" step="0.01" placeholder="npr. 2000">
          </div>

          <div class="grow field" style="margin-top:0;">
            <label for="duesPayNote">Napomena (opciono)</label>
            <input id="duesPayNote" type="text" placeholder="npr. januar 2026 / dug / korekcija">
          </div>
        </div>

        <div class="field" style="margin-top:10px;">
          <label for="duesPayDocs">PDF potvrde (vi≈°e fajlova, max 10MB)</label>
          <input id="duesPayDocs" type="file" multiple accept="application/pdf">
        </div>

        <div style="display:flex; gap:10px; margin-top:10px; flex-wrap:wrap;">
          <button class="btn btnPrimary" id="duesPaySaveBtn" type="button">Saƒçuvaj uplatu</button>
          <button class="btn btnGhost" id="duesPayCancelBtn" type="button">Otka≈æi</button>
        </div>

        <div class="error" id="duesPayError" style="display:none;"></div>
      </div>

      <!-- IZMJENA / KOREKCIJA -->
      <div id="duesAdjWrap" style="display:none; margin-top:14px;">
        <div class="badge" id="duesAdjTitle">Izmena</div>

        <div class="fRow" style="margin-top:10px; gap:10px; align-items:flex-end;">
          <div class="half field">
            <label for="duesAdjDate">Datum izmene</label>
            <input id="duesAdjDate" type="date">
          </div>

          <div class="half field">
            <label for="duesAdjKind">Akcija</label>
            <select id="duesAdjKind">
              <option value="plus">Poveƒáaj iznos</option>
              <option value="minus">Smanji iznos</option>
            </select>
          </div>

          <div class="half field">
            <label for="duesAdjAmount">Iznos (RSD)</label>
            <input id="duesAdjAmount" type="number" step="0.01">
          </div>

          <div class="grow field">
            <label for="duesAdjNote">Razlog</label>
            <input id="duesAdjNote" type="text" placeholder="npr. korekcija / gre≈°ka u uplati">
          </div>
        </div>

        <div style="display:flex; gap:10px; margin-top:10px; flex-wrap:wrap;">
          <button class="btn btnPrimary" id="duesAdjSaveBtn" type="button">Saƒçuvaj izmenu</button>
          <button class="btn btnGhost" id="duesAdjCancelBtn" type="button">Otka≈æi</button>
        </div>

        <div class="error" id="duesAdjError" style="display:none;"></div>
      </div>

      <!-- STANAR: moj dug / pretplata -->
      <div class="smallText" data-role="stanar" id="tenantDuesBox" style="margin-top:14px;">
        <span class="badge">Moj dug / pretplata</span>

        <div class="fRow" style="margin-top:10px; gap:10px;">
          <span class="badge status-uplaceno">
            Uplaƒáeno: <b id="tPaid">0,00</b> RSD
          </span>

          <span class="badge status-obaveza">
            Obaveza: <b id="tExpected">0,00</b> RSD
          </span>

          <span class="badge status-dug" id="tSaldoBadge">0,00</span>
        </div>

        <div class="smallText" id="tPeriod" style="margin-top:8px;"></div>
      </div>

    </div>

  </section>
</section>

<!-- OGLASNA -->
<section class="page" id="page-oglasna">

        <section class="card">
          <h3>Oglasna tabla</h3>

                   <div class="smallText" data-role="upravnik" style="margin-top:12px;">
            <div class="fRow">
              <div class="grow">
                <span class="badge">Upravnik</span>
                <span class="badge" style="margin-left:8px;">Upload limit: 10MB po objavi</span>
              </div>
              <div>
                <button class="btn btnGhost" id="addBoardBtn" type="button">Dodaj objavu</button>
              </div>
            </div>
          </div>

          <div id="boardFormWrap" data-role="upravnik" style="display:none; margin-top:12px;">
            <div class="fRow">
              <div class="grow field">
                <label for="bTitle">Naslov objave</label>
                <input id="bTitle" type="text" placeholder="npr. Odluka skup≈°tine stanara">
              </div>

              <div class="half field">
                <label for="bDate">Datum</label>
                <input id="bDate" type="date">
              </div>

              <div class="grow field">
                <label for="bDesc">Kratak opis</label>
                <input id="bDesc" type="text" placeholder="npr. Odluka o tekuƒáe odr≈æavanje">
              </div>

              <div class="grow field">
                <label for="bDocs">PDF dokumenta (vi≈°e fajlova)</label>
                <input id="bDocs" type="file" multiple accept="application/pdf">
                <div class="smallText" style="margin-top:6px;">
                  Ukupna velicina fajlova po objavi max 10MB.
                </div>
              </div>

              <div class="grow" style="display:flex; gap:10px; margin-top:6px;">
                <button class="btn btnPrimary" id="saveBoardBtn" type="button">Objavi</button>
                <button class="btn btnGhost" id="cancelBoardBtn" type="button">Otka≈æi</button>
              </div>

              <div class="error" id="boardError" style="display:none;">Gre≈°ka: proveri polja i limit fajlova (10MB).</div>
            </div>
          </div>

          <ul class="boardList" id="boardList"></ul>

          <div class="smallText" style="margin-top:10px;">
            
          </div>
        </section>
      </section>

      <!-- FORUM -->
      <section class="page" id="page-forum">
        <section class="card">
          <h3>Forum</h3>

                   <div data-role="stanar" id="forumCreateWrap" style="margin-top:12px;">
            <div class="fRow">
              <div class="grow field">
                <label for="pTitle">Naslov predloga</label>
                <input id="pTitle" type="text" placeholder="npr. Zamena svetla u hodniku">
              </div>
              <div class="grow field">
                <label for="pBody">Opis</label>
                <textarea id="pBody" placeholder="Kratak opis predloga (bez licnih podataka)"></textarea>
              </div>

              <div class="grow" style="display:flex; gap:10px; margin-top:6px;">
                <button class="btn btnPrimary" id="createProposalBtn" type="button">Objavi predlog</button>
                <button class="btn btnGhost" id="clearProposalBtn" type="button">Odustani</button>
              </div>

              <div class="error" id="forumError" style="display:none;">Gre≈°ka: proveri polja.</div>
            </div>
          </div>

          <ul class="boardList" id="forumList"></ul>
        </section>
      </section>

      <section class="page" id="page-regulative">
        <section class="card">
          <h3>Zakonske regulative</h3>
          
          <div class="smallText" data-role="admin">
            Admin: placeholder (upload/izmena regulativa).
          </div>
            
          <ul class="boardList" id="regList">
  <li>
    Zakon o stanovanju i odr≈æavanju zgrada
    <a
      href="Zakon_o_stanovanju_i_odrzavanju_zgrada.pdf"
      target="_blank"
      class="lawPdfLink"
    >
      PDF
    </a>
  </li>

  <li>Pravilnik o upravljanju stambenim zajednicama (PDF)</li>
</ul>
        </section>
      </section>

      <section class="page" id="page-kontakt">
        <section class="card">
          <h3>Kontakt slu≈æbe</h3>

          <div class="smallText" data-role="admin">
            Admin: placeholder (izmena kontakata i brojeva).
          </div>

          <ul class="boardList" id="kontaktList">
            <li>Vatrogasci: 193</li>
            <li>Hitna pomoc: 194</li>
            <li>Policija: 192</li>
            <li>EPS kvarovi: (placeholder)</li>
          </ul>
        </section>
      </section>

<section class="page" id="page-statistika">
  <section class="card">
    <h3>Statistika</h3>

    <!-- ADMIN: potro≈°nja upload-a (SVE ZGRADE) -->
<div data-role="admin" style="margin-top:14px;">

  <div class="badge">Admin ‚Äî Potro≈°nja upload-a po zgradama</div>

  <!-- pretraga + totals -->
  <div class="duesToolbar" style="margin-top:12px;">
    <div class="field" style="min-width:260px;">
      <label for="uplAdminSearchFin">Pretraga zgrade</label>
      <input
        id="uplAdminSearchFin"
        type="text"
        placeholder="npr. Bore, BM25, NC28, Nedeljka..."
      >
      <div class="smallText" style="margin-top:6px; opacity:.8;">
        Ukucaj adresu i izaberi zgradu
      </div>
    </div>

    <div class="duesBadges" style="margin-left:auto;">
      <span class="duesBadge">
        Ukupno fajlova: <b id="uplAdminTotalFilesFin">0</b>
      </span>
      <span class="duesBadge">
        Ukupno MB: <b id="uplAdminTotalMBFin">0.00</b>
      </span>
    </div>
  </div>

  <!-- dropdown lista zgrada -->
  <div class="adminTopWrap" style="margin-top:10px;">
    <div id="adminBuildingMenuFin" class="adminMenu hidden"></div>
  </div>

  <!-- rezultat -->
  <div class="duesGrid" id="uplAdminGridFin" style="margin-top:12px;"></div>
</div>

<div data-role="upravnik" style="margin-top:12px;">
  <div class="half field" style="margin-top:0; min-width:220px;">
   <div class="monthPick">
  <label class="mpLabel" for="uplMonthMonth">Mesec (obraƒçun upload-a)</label>

  <div class="monthPickRow">
    <select id="uplMonthMonth" class="mpSelect">
      <option value="">Mesec</option>
      <option value="01">Januar</option>
      <option value="02">Februar</option>
      <option value="03">Mart</option>
      <option value="04">April</option>
      <option value="05">Maj</option>
      <option value="06">Jun</option>
      <option value="07">Jul</option>
      <option value="08">Avgust</option>
      <option value="09">Septembar</option>
      <option value="10">Oktobar</option>
      <option value="11">Novembar</option>
      <option value="12">Decembar</option>
    </select>

    <select id="uplMonthYear" class="mpSelect">
      <option value="">Godina</option>
      <!-- JS automatski puni -->
    </select>

    <button type="button" class="btn btnPrimary mpBtn" id="uplMonthApply">
      Primeni
    </button>
  </div>

  <input type="hidden" id="uplMonthPick" value="">

  <div class="mpHint" id="uplMonthHint">Izaberi mesec i godinu</div>
</div>


  <div class="statsGrid">
    <div class="statsCard">
      <h4>Finansije</h4>
      <div class="statsRows">
        <div class="statRow"><span class="k">Unosa</span><span class="v" id="uplFinEntries">0</span></div>
        <div class="statRow"><span class="k">Fajlova</span><span class="v" id="uplFinFiles">0</span></div>
        <div class="statRow"><span class="k">MB</span><span class="v" id="uplFinMB">0.00</span></div>
      </div>
    </div>

    <div class="statsCard">
      <h4>Oglasna</h4>
      <div class="statsRows">
        <div class="statRow"><span class="k">Objava</span><span class="v" id="uplBrdEntries">0</span></div>
        <div class="statRow"><span class="k">Fajlova</span><span class="v" id="uplBrdFiles">0</span></div>
        <div class="statRow"><span class="k">MB</span><span class="v" id="uplBrdMB">0.00</span></div>
      </div>
    </div>

    <div class="statsCard" style="grid-column:1/-1;">
      <h4>Ukupno</h4>
      <div class="statsRows">
        <div class="statRow"><span class="k">Ukupno fajlova</span><span class="v" id="uplTotalFiles">0</span></div>
        <div class="statRow"><span class="k">Ukupno MB</span><span class="v" id="uplTotalMB">0.00</span></div>
      </div>
   </div>
  </div>
    
  </main>

</div>

<!-- CONFIRM MODAL -->
<div class="cModal" id="cModal" style="display:none;">
  <div class="cModalOverlay" id="cModalOverlay"></div>

  <div class="cModalCard" role="dialog" aria-modal="true"
       aria-labelledby="cTitle" aria-describedby="cText">
    <div class="cModalHead">
      <div class="cModalTitle" id="cTitle">Potvrda</div>
      <button class="cModalX" id="cModalX" type="button" aria-label="Zatvori">‚úï</button>
    </div>

    <div class="cModalBody">
      <div class="cModalText" id="cText">Da li ste sigurni?</div>
    </div>

    <div class="cModalActions">
      <button class="btn btnGhost" id="cCancel" type="button">Otka≈æi</button>
      <button class="btn btnPrimary cDanger" id="cOk" type="button">Obri≈°i</button>
    </div>
  </div>
</div>

<!-- Utility modules -->
<script src="storageUtils.js"></script>
<script src="dateUtils.js"></script>
<script src="validationUtils.js"></script>
<script src="renderUtils.js"></script>
  
<script>
/* Tvoj originalni JavaScript ide ovde ‚Äì kopiraj ga iz tvog originalnog fajla ili iz poruke koju si mi poslao na poƒçetku */
/* ... ceo <script> deo sa init(), attemptLogin, render funkcijom, itd. ... */
/* NA KRAJU OBAVEZNO OSTAVI OVO: */
(function init(){
  ensureStaticSids();
  seedManagersFromUSERS();

  const session = getSession();
  if(session && session.username && session.role){
    CURRENT_SESSION = session;
    userPill.textContent = session.username;
    applyRoleUI(session.role);

    if(!CURRENT_SESSION.activeBuildingId){
      if(CURRENT_SESSION.role === "stanar"){
        CURRENT_SESSION.activeBuildingId = (CURRENT_SESSION.buildings || [])[0] || null;
        saveSession(CURRENT_SESSION);
        enterPortal();
      }else{
        if((CURRENT_SESSION.buildings || []).length > 1){
          showBuildingSelect();
        }else{
          CURRENT_SESSION.activeBuildingId = (CURRENT_SESSION.buildings || [])[0] || null;
          saveSession(CURRENT_SESSION);
          enterPortal();
        }
      }
      return;
    }

    enterPortal();
  }else{
    CURRENT_SESSION = null;
    applyRoleUI("stanar");
    setMode("login");
    loadLoginCreds();
  }
})();
</script>

<!-- Supabase SDK -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- Supabase init -->
<script>
  const SUPABASE_URL = "https://bkzczqnbeomvshqplrho.supabase.co";
  const SUPABASE_KEY = "sb_publishable_mPQn0h5Ixgyg5WQFsJk38A_qqE2kPb7";

  const supabaseClient = supabase.createClient(
    SUPABASE_URL,
    SUPABASE_KEY
  );

  console.log("Supabase connected:", supabaseClient);
</script>

</body>
</html>
